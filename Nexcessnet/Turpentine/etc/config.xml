<?xml version="1.0"?>
<config>
    <modules>
        <Nexcessnet_Turpentine>
            <version>0.0.1</version>
        </Nexcessnet_Turpentine>
    </modules>
    <default>
        <turpentine_servers>
            <servers>
                <version>3.0.x</version>
                <server_list>127.0.0.1:6082</server_list>
                <config_file>{{root_dir}}/var/default.vcl</config_file>
            </servers>
            <debug>
                <headers>0</headers>
            </debug>
        </turpentine_servers>
        <turpentine_control>
            <general>
                <enable>1</enable>
            </general>
            <ttls>
                <default_ttl>3600</default_ttl>
                <url_ttls>^/(?:index\.php/?)?$,300</url_ttls>
            </ttls>
            <urls>
                <url_whitelist>^/.*</url_whitelist>
                <url_blacklist>^/(?:api|admin)/.*</url_blacklist>
            </urls>
            <params>
                <get_params>__store,__SID</get_params>
            </params>
            <purging>
                <auto_purge_actions></auto_purge_actions>
            </purging>
        </turpentine_control>
    </default>
    <global>
        <blocks>
            <turpentine>
                <class>Nexcessnet_Turpentine_Block</class>
            </turpentine>
        </blocks>
        <helpers>
            <turpentine>
                <class>Nexcessnet_Turpentine_Helper</class>
            </turpentine>
        </helpers>
        <models>
            <turpentine>
                <class>Nexcessnet_Turpentine_Model</class>
            </turpentine>
        </models>
    </global>
    <admin>
        <routers>
            <Nexcessnet_Turpentine>
                <use>admin</use>
                <args>
                    <module>Nexcessnet_Turpentine</module>
                    <frontName>turpentine</frontName>
                </args>
            </Nexcessnet_Turpentine>
        </routers>
    </admin>
    <adminhtml>
        <menu>
            <system>
                <children>
                    <turpentine translate="title" module="turpentine">
                        <title>Varnish Management</title>
                        <action>turpentine/management</action>
                        <sort_order>91</sort_order>
                    </turpentine>
                </children>
            </system>
        </menu>
        <routers>
            <Nexcessnet_Turpentine>
                <use>admin</use>
                <args>
                    <module>Nexcessnet_Turpentine</module>
                    <frontName>turpentine</frontName>
                </args>
            </Nexcessnet_Turpentine>
        </routers>
        <layout>
            <updates>
                <turpentine module="turpentine">
                    <file>turpentine.xml</file>
                </turpentine>
            </updates>
        </layout>
        <acl>
            <resources>
                <admin>
                    <children>
                        <system>
                            <children>
                                <turpentine translate="title" module="turpentine">
                                    <title>Turpentine Varnish Management</title>
                                </turpentine>
                                <config>
                                    <children>
                                        <turpentine_servers translate="title" module="turpentine">
                                            <title>Turpentine Varnish Options</title>
                                        </turpentine_servers>
                                        <turpentine_control translate="title" module="turpentine">
                                            <title>Turpentine Caching Options</title>
                                        </turpentine_control>
                                    </children>
                                </config>
                            </children>
                        </system>
                    </children>
                </admin>
            </resources>
        </acl>
    </adminhtml>
</config>
